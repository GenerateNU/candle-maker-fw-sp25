// add functions here
#include "LCDScreen.h"

void idle_init()
{
  Serial.println("IDLE state");
  lv_obj_clean(lv_screen_active());
  LV_IMAGE_DECLARE(ui_idle);
  lv_obj_t *idle = lv_image_create(lv_screen_active());
  lv_image_set_src(idle, &ui_idle);
  lv_obj_align(idle, LV_ALIGN_CENTER, 0, 0);
  lv_refr_now(NULL);
}

void heating_init() {
  Serial.println("HEATING state");
  lv_obj_clean(lv_screen_active());  // Clear previous screen
  LV_IMAGE_DECLARE(ui_heating);
  lv_obj_t *heating = lv_image_create(lv_screen_active());
  lv_image_set_src(heating, &ui_heating);
  lv_obj_align(heating, LV_ALIGN_CENTER, 0, 0);
  lv_refr_now(NULL);  // Force full screen redraw
}

void wick_placement_init()
{
  Serial.println("WICK PLACEMENT screen");
  lv_obj_clean(lv_screen_active());
  LV_IMAGE_DECLARE(ui_wick_placement);
  lv_obj_t *wick = lv_image_create(lv_screen_active());
  lv_image_set_src(wick, &ui_wick_placement);
  lv_obj_align(wick, LV_ALIGN_CENTER, 0, 0);
  lv_refr_now(NULL);
}

void add_oil_init()
{
  Serial.println("ADD OIL screen");
  lv_obj_clean(lv_screen_active());
  LV_IMAGE_DECLARE(ui_add_oil);
  lv_obj_t *oil = lv_image_create(lv_screen_active());
  lv_image_set_src(oil, &ui_add_oil);
  lv_obj_align(oil, LV_ALIGN_CENTER, 0,0);
  lv_refr_now(NULL);
}

void dispensing_init()
{
  Serial.println("DISPENSING screen");
  lv_obj_clean(lv_screen_active());
  LV_IMAGE_DECLARE(ui_dispensing);
  lv_obj_t *dispensing = lv_image_create(lv_screen_active());
  lv_image_set_src(dispensing, &ui_dispensing);
  lv_obj_align(dispensing, LV_ALIGN_CENTER, 0, 0);
  lv_refr_now(NULL);
}

void mixing_init()
{
  Serial.println("MIXING screen");
  lv_obj_clean(lv_screen_active()); // Clear previous screen
  LV_IMAGE_DECLARE(ui_mixing);
  lv_obj_t *mixing = lv_image_create(lv_screen_active());
  lv_image_set_src(mixing, &ui_mixing);
  lv_obj_align(mixing, LV_ALIGN_CENTER, 0, 0);
  lv_refr_now(NULL); // âœ… Force full screen redraw
}

void cooling_init()
{
  Serial.println("COOLING screen");
  lv_obj_clean(lv_screen_active());
  LV_IMAGE_DECLARE(ui_cooling);
  lv_obj_t *cooling = lv_image_create(lv_screen_active());
  lv_image_set_src(cooling, &ui_cooling);
  lv_obj_align(cooling, LV_ALIGN_CENTER, 0, 0);
  lv_refr_now(NULL);
}

void ejecting_init()
{
  Serial.println("EJECTING screen");
  lv_obj_clean(lv_screen_active());
  LV_IMAGE_DECLARE(ui_ejecting);
  lv_obj_t *ejecting = lv_image_create(lv_screen_active());
  lv_image_set_src(ejecting, &ui_ejecting);
  lv_obj_align(ejecting, LV_ALIGN_CENTER, 0, 0);
  lv_refr_now(NULL);
}

void complete_init()
{
  Serial.println("COMPLETE screen");
  lv_obj_clean(lv_screen_active());
  LV_IMAGE_DECLARE(ui_complete);
  lv_obj_t *complete = lv_image_create(lv_screen_active());
  lv_image_set_src(complete, &ui_complete);
  lv_obj_align(complete, LV_ALIGN_CENTER, 0, 0);
  lv_refr_now(NULL);
}